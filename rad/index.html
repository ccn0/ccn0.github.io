<!DOCTYPE html>
<html lang="en">
<!-- v3 of rAdBOX. MADE BY CCN0 https://github.com -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rAdBOX by CCN0</title>
    <meta name="robots" content="noindex">   
    <style>
        html {
            overflow:hidden;
        }
        body {
            background-color: #000;
            background-image: url(https://ccn0.github.io/img/ccn0.png);
            background-size:cover;
            background-position: center;
            margin:0;
        }
        div {
            position: relative;
            display: inline-block;
        }
        img {
            margin-top: auto;
            margin-bottom: auto;
            max-width: 100%;
            height: 100vh;
        }
        .floating-link {
            position: absolute;
            top: 0;
            right: 0;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 5px 10px;
            text-decoration: none;
            font-size: 5vw;
			border-radius:0 0 0 6px;
			transition: all 0.2s;
        }
        .floating-link:hover {
            font-size:10vw;
        }
    </style> 
</head>
<body aria-hidden="true">
    <div>
        <a href="" id="adBox" title="" target="_top">
            <img src="" id="sphoto">
        </a>
            <a href="whatisthis.html" class="floating-link" target="_top">Ad</a>
    </div>
    <!--====================== ENTERING SCRIPT TERRITORY ===========================-->
    <script>
    fetch("promos.json")
        .then(response => response.json())
        .then(jsonData => {
            const promosObject = jsonData.find(item => item.hasOwnProperty('promos'));
          
            if (promosObject) {
                const promosValue = promosObject.promos;
                // console.log("Value of promos:", promosValue);
            
                const rmin = 1;
                const rmax = promosValue;
                const targetNumber = Math.floor(Math.random() * (rmax - rmin + 1)) + rmin;
            
                const entry = jsonData.find(item => item.number === targetNumber);
                if (entry) {
                    // console.log("Text:", entry.text);
                    const radLinksTo = entry.text;
                    const title = entry.title;
                    const alttext = entry.alttext;
                  
                    setRadUp(targetNumber, radLinksTo, title, alttext);
                } else {
                    // console.log("Number not found in JSON.");
                }
            } else {
                // console.log("No 'promos' key found in JSON.");
            }
        })
        .catch(error => {
            // console.error('Error fetching data:', error);
      	});
	  
      	function setRadUp(targetNumber, link, title, alttext) {
      	    document.getElementById('adBox').href = link;
      	    document.getElementById('adBox').title = title + " (Ad)";
      	    document.getElementById('sphoto').src = "rad" + targetNumber + ".jpg";
      	    document.getElementById('sphoto').alt = alttext + " (Ad)";
      	    // console.log("rad" + targetNumber + ".jpg");
      	};

      	function getSite() {
      	  	const approvedSites = ["ccn0.github.io","ccn0guy.blogspot.com","127.0.0.1"];
      	  	const currentSite = window.parent.location.hostname;
			
      	  	if(!approvedSites.includes(currentSite)) {
      	  	  	window.location.href = "https://ccn0.github.io/rad/notpermitted.html"
      	  	};
      	};

      	getSite()
    </script>
</body>
</html>
